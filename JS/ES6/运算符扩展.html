<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 指数运算符 ** 右结合
        // 2 ** 2 // 4
        // 2 ** 3 // 8
        // 相当于 2 ** (3 ** 2)
        // 2 ** 3 ** 2 //512

        // 链判断运算符 ?.
        //原始写法
        // const firstName = (message
        //     && message.body
        //     && message.body.user
        //     && message.body.user.firstName) || 'default';
        // 优化
        const firstName = message?.body?.user?.firstName || 'default';

        // Null 判断运算符
        // 读取对象属性的时候，如果某个属性的值是null或undefined，有时候需要为它们指定默认值。常见做法是通过 || 运算符指定默认值。

        // const headerText = response.settings.headerText || 'Hello, world!';
        // const animationDuration = response.settings.animationDuration || 300;
        // const showSplashScreen = response.settings.showSplashScreen || true;
        // 上面的三行代码都通过 || 运算符指定默认值，但是这样写是错的。开发者的原意是，只要属性的值为null或undefined，默认值就会生效，但是属性的值如果为空字符串或false或0，默认值也会生效。

        // 为了避免这种情况，ES2020 引入了一个新的 Null 判断运算符 ??。它的行为类似 ||，但是只有运算符左侧的值为null或undefined时，才会返回右侧的值。
        const headerText = response.settings.headerText ?? 'Hello, world!';
        // const animationDuration = response.settings.animationDuration ?? 300;
        const showSplashScreen = response.settings.showSplashScreen ?? true;

        // 这个运算符的一个目的，就是跟链判断运算符?.配合使用，为null或undefined的值设置默认值。
        const animationDuration = response.settings?.animationDuration ?? 300;


        // 逻辑赋值运算符

        // 或赋值运算符
        // x ||= y
        // 等同于
        // x || (x = y)

        // 与赋值运算符
        // x &&= y
        // 等同于
        // x && (x = y)

        // Null 赋值运算符
        // x ??= y
        // 等同于
        // x ?? (x = y)
    </script>
</body>

</html>